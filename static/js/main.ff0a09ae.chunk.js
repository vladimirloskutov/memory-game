(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{22:function(e,t,a){"use strict";a.r(t);a(0);var s=a(5),n=a.n(s),c=a(8),r=a(2),u=function(e){return{type:"CARD_CLOSED",payload:{comparisonIcons:e}}},i=a(1),l=Object(r.b)((function(e){return{gameStatus:e.game.gameStatus}}))((function(e){var t=e.dispatch,a=e.gameStatus;return Object(i.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:function(){switch(a){case"GAME_INITIAL":var e=setInterval((function(){t(function(e){return{type:"GAME_STARTED",payload:{gameTimerId:e}}}(e))}),1e3);break;case"GAME_STARTED":break;default:throw new Error("Unknown game status: ".concat(a))}},children:"START"})})),o=Object(r.b)((function(e){return{gameTimer:e.game.gameTimer}}))((function(e){var t=e.gameTimer;return Object(i.jsxs)("div",{className:"d-inline h2",children:["Time: ",t," s"]})})),d=function(){return Object(i.jsxs)("div",{className:"row col-12 mb-5",children:[Object(i.jsx)("div",{className:"col-12 mr-5",children:Object(i.jsx)(l,{})}),Object(i.jsx)("div",{className:"col-12 mt-5",children:Object(i.jsx)(o,{})})]})},m=a(12),D=Object(r.b)((function(e){var t=e.game,a=e.icons;return{gameTimerId:t.gameTimerId,shuffledIcons:a.shuffledIcons,remainingCards:a.remainingCards,comparisonIcons:a.comparisonIcons}}))((function(e){var t,a=e.dispatch,s=e.cardId,n=e.gameTimerId,c=e.shuffledIcons,r=e.remainingCards,l=e.comparisonIcons,o=c[s],d=o.status,D=o.value;switch(d){case"CARD_CLOSED":t=Object(i.jsx)("div",{className:"col-2 mb-4",children:Object(i.jsx)("div",{className:"card bg-warning",children:Object(i.jsx)("div",{id:s,className:"card-body",onClick:function(e){var t=e.target.id;l.length<2&&(l.push(t),a(function(e){return{type:"CARD_OPENED",payload:{cardId:e}}}(t)));var s=setTimeout((function(){1===l.length&&a(u(l))}),5e3);if(2===l.length){clearTimeout(s);var i=Object(m.a)(l,2),o=i[0],d=i[1],D=c[o].value,O=c[d].value;setTimeout((function(){if(D===O){var e=r-2;a(function(e,t){return{type:"CARD_DELETED",payload:{comparisonIcons:e,newRemainingCards:t}}}(l,e)),0===e&&(clearInterval(n),a({type:"GAME_FINISHED"}))}else a(u(l))}),2e3)}},children:Object(i.jsx)("span",{className:"invisible",children:D})})})});break;case"CARD_OPENED":t=Object(i.jsx)("div",{className:"col-2 mb-4",children:Object(i.jsx)("div",{className:"card",children:Object(i.jsx)("div",{className:"card-body text-center font-weight-bold",children:D})})});break;case"CARD_DELETED":t=Object(i.jsx)("div",{className:"col-2"});break;default:throw new Error("Unknown card status: ".concat(d))}return t})),O=Object(r.b)((function(e){return{shuffledIcons:e.icons.shuffledIcons}}))((function(e){var t=e.shuffledIcons.map((function(e,t){return Object(i.jsx)(D,{cardId:t},t)}));return Object(i.jsx)("div",{className:"row mb-5",children:t})})),C=Object(r.b)((function(e){return{gameResults:e.game.gameResults}}))((function(e){var t=e.gameResults.map((function(e,t){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:t+1}),Object(i.jsxs)("td",{children:[e,"s"]})]},t)}));return Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"#"}),Object(i.jsx)("th",{children:"Round time"})]})}),Object(i.jsx)("tbody",{children:t})]})})),j=function(){return Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{className:"row mt-5",children:[Object(i.jsxs)("div",{className:"col-3",children:[Object(i.jsx)(d,{}),Object(i.jsx)(C,{})]}),Object(i.jsx)("div",{className:"col-9",children:Object(i.jsx)(O,{})})]})})},b=a(7),E=a(3),v={gameStatus:"GAME_INITIAL",gameTimer:0,gameTimerId:null,gameResults:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GAME_STARTED":return Object(E.a)(Object(E.a)({},e),{},{gameStatus:"GAME_STARTED",gameTimer:e.gameTimer+1,gameTimerId:t.payload.gameTimerId});case"GAME_FINISHED":var a=Object(b.a)(e.gameResults);return a.push(e.gameTimer),{gameStatus:"GAME_INITIAL",gameTimer:0,gameTimerId:null,gameResults:a};default:return e}},A=[{value:"1",status:"CARD_CLOSED"},{value:"2",status:"CARD_CLOSED"},{value:"3",status:"CARD_CLOSED"},{value:"4",status:"CARD_CLOSED"},{value:"5",status:"CARD_CLOSED"},{value:"6",status:"CARD_CLOSED"},{value:"7",status:"CARD_CLOSED"},{value:"8",status:"CARD_CLOSED"},{value:"9",status:"CARD_CLOSED"},{value:"1",status:"CARD_CLOSED"},{value:"2",status:"CARD_CLOSED"},{value:"3",status:"CARD_CLOSED"},{value:"4",status:"CARD_CLOSED"},{value:"5",status:"CARD_CLOSED"},{value:"6",status:"CARD_CLOSED"},{value:"7",status:"CARD_CLOSED"},{value:"8",status:"CARD_CLOSED"},{value:"9",status:"CARD_CLOSED"},{value:"!",status:"CARD_CLOSED"},{value:"@",status:"CARD_CLOSED"},{value:"#",status:"CARD_CLOSED"},{value:"$",status:"CARD_CLOSED"},{value:"%",status:"CARD_CLOSED"},{value:"^",status:"CARD_CLOSED"},{value:"&",status:"CARD_CLOSED"},{value:"*",status:"CARD_CLOSED"},{value:"-",status:"CARD_CLOSED"},{value:"!",status:"CARD_CLOSED"},{value:"@",status:"CARD_CLOSED"},{value:"#",status:"CARD_CLOSED"},{value:"$",status:"CARD_CLOSED"},{value:"%",status:"CARD_CLOSED"},{value:"^",status:"CARD_CLOSED"},{value:"&",status:"CARD_CLOSED"},{value:"*",status:"CARD_CLOSED"},{value:"-",status:"CARD_CLOSED"}],f=function(){return JSON.parse(JSON.stringify(A)).sort((function(){return Math.random()-.5}))},R=f(),g={shuffledIcons:R,remainingCards:R.length,comparisonIcons:[]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,a=Object(b.a)(e.shuffledIcons);switch(t.type){case"CARD_OPENED":var s=t.payload.cardId;return a[s].status="CARD_OPENED",Object(E.a)(Object(E.a)({},e),{},{shuffledIcons:a});case"CARD_CLOSED":var n=t.payload.comparisonIcons;return n.forEach((function(e){a[e].status="CARD_CLOSED"})),Object(E.a)(Object(E.a)({},e),{},{shuffledIcons:a,comparisonIcons:[]});case"CARD_DELETED":var c=t.payload,r=c.comparisonIcons,u=c.newRemainingCards;return r.forEach((function(e){a[e].status="CARD_DELETED"})),Object(E.a)(Object(E.a)({},e),{},{shuffledIcons:a,remainingCards:u,comparisonIcons:[]});case"GAME_FINISHED":var i=f();return{shuffledIcons:i,remainingCards:i.length,comparisonIcons:[]};default:return e}},S=Object(c.a)({game:h,icons:_}),I=Object(c.b)(S);n.a.render(Object(i.jsx)(r.a,{store:I,children:Object(i.jsx)(j,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.ff0a09ae.chunk.js.map